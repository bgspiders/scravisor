# scravisor
可视化 Scrapy 爬虫框架

> ⚠️ 当前处于开发阶段，尚未可运行！！！

## ✅ 已完成工作
- 创建了数据库模块并初始化 MySQL 和 Redis 连接。
- 从配置文件中读取数据库连接信息，并成功应用到模块中。
- 使用 ORM（SQLAlchemy）重构 MySQL 模块，支持更灵活的查询方式。
- 优化多个工具函数，提升代码可读性和性能。
- 实现可配置的字段提取结构，支持 XPath、正则表达式等方式提取网页内容。
- 创建 `ConfigParser` 类用于解析多层级嵌套提取规则。
- 为任务表生成 SQL 脚本，可用于创建爬虫任务数据库表。

## 📅 开发计划（TODO）

### 🔧 功能开发
- [ ] 实现任务调度系统：基于数据库中的任务表，构建定时抓取逻辑。
- [ ] 完善 `ConfigParser` 类：增加对更多提取规则的支持，例如 JSON 提取、CSS 选择器等。
- [ ] 添加日志记录模块：在关键流程中加入日志输出，便于调试和监控。
- [ ] 封装通用爬虫引擎：基于 Scrapy 或 requests 构建一个可复用的爬虫框架。
- [ ] 实现去重机制：结合 Redis 缓存已抓取的 URL，避免重复采集。
- [ ] 支持动态渲染页面：集成 Selenium 或 Playwright 支持 JavaScript 页面抓取。

### 💾 数据处理
- [ ] 设计数据存储策略：根据不同的采集类型定义数据入库规则。
- [ ] 添加数据清洗流程：对采集到的数据进行标准化处理。
- [ ] 实现数据导出接口：提供 API 或文件形式导出采集结果。

### 🧪 测试与部署
- [ ] 编写单元测试：确保核心模块的稳定性。
- [ ] 搭建本地测试环境：模拟真实场景验证功能完整性。
- [ ] 准备部署脚本：使用 Docker 容器化部署或直接打包 Python 程序。
- [ ] 设置监控告警机制：通过日志或数据库状态检测异常任务。